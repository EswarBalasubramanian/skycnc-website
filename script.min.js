(function(){"use strict";var e=document.getElementById("mobile-menu-btn"),n=document.getElementById("mobile-menu");e&&n&&(e.addEventListener("click",function(){n.classList.toggle("hidden")}),n.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){n.classList.add("hidden")})}));var t=document.getElementById("cad-file"),i=document.getElementById("file-name");t&&i&&t.addEventListener("change",function(e){if(e.target.files.length>0){var n=e.target.files[0],o=(n.size/1048576).toFixed(2);n.size>10485760?(i.textContent=n.name+" - FILE TOO LARGE (max 10MB)",i.style.color="#f87171"):(i.textContent=n.name+" ("+o+" MB)",i.style.color="")}else i.textContent="STEP, IGES, DWG, DXF, PDF (max 10MB)"});document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var n=this.getAttribute("href");if(n&&n.length>1){var o=document.querySelector(n);o&&o.scrollIntoView({behavior:"smooth",block:"start"})}})});var o=document.getElementById("rfq-form"),a=document.getElementById("form-status");o&&o.addEventListener("submit",function(e){e.preventDefault();if(t&&t.files.length>0&&t.files[0].size>10485760){a.className="mt-4 p-4 rounded-lg text-center bg-red-500/20 border border-red-500/50 text-red-400",a.textContent="✗ File is too large. Maximum file size is 10MB.",a.classList.remove("hidden");return}var n=o.querySelector('button[type="submit"]'),s=n.textContent;n.textContent="Sending...",n.disabled=!0;var r=new FormData(o);fetch(o.action,{method:"POST",body:r,headers:{Accept:"application/json"}}).then(function(e){return e.ok?{success:!0}:e.json().then(function(e){return{success:!1,data:e}}).catch(function(){return{success:!1,data:null}})}).then(function(e){e.success?(a.className="mt-4 p-4 rounded-lg text-center bg-green-500/20 border border-green-500/50 text-green-400",a.textContent="✓ Thank you! Your quote request has been submitted. We will contact you within 24 hours.",a.classList.remove("hidden"),o.reset(),i&&(i.textContent="STEP, IGES, DWG, DXF, PDF (max 10MB)",i.style.color="")):(a.className="mt-4 p-4 rounded-lg text-center bg-red-500/20 border border-red-500/50 text-red-400",a.textContent="✗ "+(e.data&&e.data.error?e.data.error:e.data&&e.data.message?e.data.message:"Form submission failed. Please try again."),a.classList.remove("hidden"))}).catch(function(){a.className="mt-4 p-4 rounded-lg text-center bg-red-500/20 border border-red-500/50 text-red-400",a.textContent="✗ Network error. Please check your connection and try again.",a.classList.remove("hidden")}).finally(function(){n.textContent=s,n.disabled=!1})});var s=document.querySelector("header");s&&window.addEventListener("scroll",function(){var e=!1;e||(requestAnimationFrame(function(){window.scrollY>50?s.classList.add("shadow-lg"):s.classList.remove("shadow-lg"),e=!1}),e=!0)},{passive:!0})})();

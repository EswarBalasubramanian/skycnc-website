!function(){"use strict";const e=document.getElementById("mobile-menu-btn"),t=document.getElementById("mobile-menu");e&&t&&(e.addEventListener("click",function(){t.classList.toggle("hidden")}),t.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(){t.classList.add("hidden")})}));const n=document.getElementById("cad-file"),o=document.getElementById("file-name");n&&o&&n.addEventListener("change",function(e){if(e.target.files.length>0){var t=e.target.files[0],n=(t.size/1048576).toFixed(2);o.textContent=t.name+" ("+n+" MB)",t.size>10485760?(o.textContent=t.name+" - FILE TOO LARGE (max 10MB)",o.style.color="#f87171"):o.style.color=""}else o.textContent="STEP, IGES, DWG, DXF, PDF (max 10MB)"}),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href");if(t&&t.length>1){const e=document.querySelector(t);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}})});const r=document.getElementById("rfq-form"),s=document.getElementById("form-status");r&&r.addEventListener("submit",function(e){if(e.preventDefault(),n&&n.files.length>0&&n.files[0].size>10485760)return s.className="mt-4 p-4 rounded-lg text-center bg-red-500/20 border border-red-500/50 text-red-400",s.textContent="✗ File is too large. Maximum file size is 10MB. Please compress or use a cloud link.",void s.classList.remove("hidden");const t=r.querySelector('button[type="submit"]'),c=t.textContent;t.textContent="Sending...",t.disabled=!0;const d=new FormData(r);fetch(r.action,{method:"POST",body:d,headers:{Accept:"application/json"}}).then(function(e){return e.ok?{success:!0}:e.json().then(function(e){return{success:!1,data:e}}).catch(function(){return{success:!1,data:null}})}).then(function(e){if(e.success)s.className="mt-4 p-4 rounded-lg text-center bg-green-500/20 border border-green-500/50 text-green-400",s.textContent="✓ Thank you! Your quote request has been submitted. We will contact you within 24 hours.",s.classList.remove("hidden"),r.reset(),o&&(o.textContent="STEP, IGES, DWG, DXF, PDF (max 10MB)",o.style.color="");else{var t="✗ ";e.data&&e.data.error?t+=e.data.error:e.data&&e.data.message?t+=e.data.message:t+="Form submission failed. Please try again or email us directly.",s.className="mt-4 p-4 rounded-lg text-center bg-red-500/20 border border-red-500/50 text-red-400",s.textContent=t,s.classList.remove("hidden")}}).catch(function(e){s.className="mt-4 p-4 rounded-lg text-center bg-red-500/20 border border-red-500/50 text-red-400",s.textContent="✗ Network error. Please check your connection and try again.",s.classList.remove("hidden")}).finally(function(){t.textContent=c,t.disabled=!1})});const c=document.querySelector("header");if(c){let e=!1;window.addEventListener("scroll",function(){e||(requestAnimationFrame(function(){window.scrollY>50?c.classList.add("shadow-lg"):c.classList.remove("shadow-lg"),e=!1}),e=!0)},{passive:!0})}}();